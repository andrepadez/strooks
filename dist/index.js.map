{"version":3,"file":"index.js","sources":["../src/Components/DataTable/TableHead/TableHead.js","../src/Components/DataTable/TableCell/TableCell.js","../src/Components/DataTable/RowControls/RowControls.js","../src/Components/DataTable/TableRow/TableRow.js","../src/Components/DataTable/TableBody/TableBody.js","../src/Components/DataTable/DataTable.js"],"sourcesContent":["const TableHead = ({ columns }) => {\n  return (\n    <thead className=\"thead-light\">\n      <tr>\n        {columns?.map((col, idx) => {\n          const key = col.field || col\n          let label = col.label || (typeof col === 'string' && col) || ''\n\n          const sortKey = col.sortKey\n\n          return sortKey ? (\n            <th key={idx} data-sort={sortKey}>\n              {label}\n            </th>\n          ) : (\n            <th key={idx} data-sort={sortKey}>\n              {label}\n            </th>\n          )\n        })}\n      </tr>\n    </thead>\n  )\n}\n\nexport default TableHead\n\n// LEAD = {\n//   salutation: 'MR',\n//   first_name: 'string',\n//   last_name: 'string',\n//   dob: '2022-08-06',\n//   lead_address: {\n//     lead: 0,\n//     address_line_1: 'string',\n//     address_line_2: 'string',\n//     city: 'string',\n//     state: 'string',\n//     post_code: 'string',\n//     id: 0,\n//     created_at: '2022-08-06T23:02:51.866Z',\n//     updated_at: '2022-08-06T23:02:51.866Z',\n//     created_at_human: 'string',\n//     updated_at_human: 'string',\n//   },\n//   lead_contact: {\n//     lead: 0,\n//     email: 'user@example.com',\n//     phone: 'string',\n//     note: 'string',\n//     id: 0,\n//     created_at: '2022-08-06T23:02:51.866Z',\n//     updated_at: '2022-08-06T23:02:51.866Z',\n//     created_at_human: 'string',\n//     updated_at_human: 'string',\n//   },\n//   lead_treatments: [\n//     {\n//       lead: 0,\n//       treatment: 'string',\n//       status: 'NEW',\n//       price: 'string',\n//       id: 0,\n//       created_at: '2022-08-06T23:02:51.866Z',\n//       updated_at: '2022-08-06T23:02:51.866Z',\n//       created_at_human: 'string',\n//       updated_at_human: 'string',\n//     },\n//   ],\n//   id: 0,\n//   created_at: '2022-08-06T23:02:51.866Z',\n//   updated_at: '2022-08-06T23:02:51.866Z',\n//   created_at_human: 'string',\n//   updated_at_human: 'string',\n// }\n\n// NOTES = {\n//   lead: 0,\n//   note: 'CREDIT_CHECK_FAILED',\n//   additional_notes: 'string',\n//   treatment: 0,\n//   contacted_via: 'SMS',\n//   id: 0,\n//   created_at: '2022-08-06T23:05:18.639Z',\n//   updated_at: '2022-08-06T23:05:18.639Z',\n//   created_at_human: 'string',\n//   updated_at_human: 'string',\n// }\n","const TableCell = ({ value, row, data, format, column }) => {\n  return format ? (\n    <td className={column.className}>{format(value, row, data)}</td>\n  ) : (\n    <td className={column.className}>{value?.toString()}</td>\n  )\n}\n\nexport default TableCell\n","const RowControls = ({ onClick }) => {\n  return (\n    <div onClick={onClick} className=\"controls flex gap-3 align-center\">\n      <i className=\"ni ni-settings\" role=\"edit\"></i>\n      <i className=\"ni ni-fat-remove\" role=\"delete\"></i>\n    </div>\n  )\n}\n\nexport default RowControls\n","import TableCell from '../TableCell'\nimport RowControls from '../RowControls'\n\nconst TableRow = ({ row, columns, data, controller }) => {\n  const onControlsClick = ev => {\n    controller(ev, row)\n  }\n  return (\n    <tr>\n      {columns.map((col, idx) => {\n        let value = typeof col === 'string' ? row[col] : row[col.field]\n\n        const path = col.field?.split('.')\n        if (path?.length > 1) {\n          value = row[path.shift()]\n          while (value && path.length) {\n            value = value[path.shift()]\n          }\n        }\n\n        return (\n          <TableCell\n            key={idx}\n            value={value}\n            column={col}\n            row={row}\n            data={data}\n            format={col.format}\n          />\n        )\n      })}\n      {typeof controller === 'function' && (\n        <td>\n          <RowControls onClick={onControlsClick} />\n        </td>\n      )}\n    </tr>\n  )\n}\n\nexport default TableRow\n","import TableRow from '../TableRow'\n\nconst TableBody = ({ data, columns, className, controller }) => {\n  return (\n    <tbody>\n      {data.map((row, idx) => {\n        const key = row.id || row._id || JSON.stringify(row) || idx\n        return (\n          <TableRow key={key} row={row} data={data} columns={columns} controller={controller} />\n        )\n      })}\n    </tbody>\n  )\n}\n\n/*\n<tr>\n        <th scope=\"row\">\n          <span className=\"badge badge-dot mr-4\">\n            <i className=\"bg-success\"></i>\n            <span className=\"status\">10 mins</span>\n          </span>\n        </th>\n        <td className=\"budget\">Jimmy</td>\n        <td>aa</td>\n        <td>\n          <div className=\"d-flex align-items-center\">\n            <button\n              type=\"button\"\n              className=\"btn btn-success\"\n              data-toggle=\"modal\"\n              data-target=\"#modal-booked\"\n            >\n              Booked\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-outline-warning\"\n              data-toggle=\"modal\"\n              data-target=\"#modal-not-booked\"\n            >\n              Not Booked\n            </button>\n          </div>\n        </td>\n        <td>\n          <i\n            className=\"fas fa-phone-alt text-success fa-2x mr-3\"\n            data-toggle=\"modal\"\n            data-target=\"#modal-call\"\n          ></i>\n          <i className=\"fas fa-comment-dots text-success fa-2x ml-3\"></i>\n        </td>\n        <td className=\"text-right\">\n          <div className=\"dropdown\">\n            <a\n              className=\"btn btn-sm btn-icon-only text-light\"\n              href=\"#\"\n              role=\"button\"\n              data-toggle=\"dropdown\"\n              aria-haspopup=\"true\"\n              aria-expanded=\"false\"\n            >\n              <i className=\"fas fa-ellipsis-v\"></i>\n            </a>\n            <div className=\"dropdown-menu dropdown-menu-right dropdown-menu-arrow\">\n              <a className=\"dropdown-item\" href=\"#\">\n                Detail view\n              </a>\n              <a\n                className=\"dropdown-item\"\n                data-toggle=\"sweet-alert\"\n                data-sweet-alert=\"warning\"\n                href=\"#\"\n              >\n                Delete\n              </a>\n            </div>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th scope=\"row\">\n          <span className=\"badge badge-dot mr-4\">\n            <i className=\"bg-success\"></i>\n            <span className=\"status\">1 days</span>\n          </span>\n        </th>\n        <td className=\"budget\">Jack</td>\n        <td>aa</td>\n        <td></td>\n        <td></td>\n        <td className=\"text-right\">\n          <div className=\"dropdown\">\n            <a\n              className=\"btn btn-sm btn-icon-only text-light\"\n              href=\"#\"\n              role=\"button\"\n              data-toggle=\"dropdown\"\n              aria-haspopup=\"true\"\n              aria-expanded=\"false\"\n            >\n              <i className=\"fas fa-ellipsis-v\"></i>\n            </a>\n            <div className=\"dropdown-menu dropdown-menu-right dropdown-menu-arrow\">\n              <a className=\"dropdown-item\" href=\"#\">\n                Detail view\n              </a>\n              <a\n                className=\"dropdown-item\"\n                data-toggle=\"sweet-alert\"\n                data-sweet-alert=\"warning\"\n                href=\"#\"\n              >\n                Delete\n              </a>\n            </div>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <th scope=\"row\">\n          <span className=\"badge badge-dot mr-4\">\n            <i className=\"bg-danger\"></i>\n            <span className=\"status\">3 days</span>\n          </span>\n        </th>\n        <td className=\"budget\">Bob</td>\n        <td>aa</td>\n        <td>\n          <div className=\"d-flex align-items-center\"></div>\n        </td>\n        <td></td>\n        <td className=\"text-right\">\n          <div className=\"dropdown\">\n            <a\n              className=\"btn btn-sm btn-icon-only text-light\"\n              href=\"#\"\n              role=\"button\"\n              data-toggle=\"dropdown\"\n              aria-haspopup=\"true\"\n              aria-expanded=\"false\"\n            >\n              <i className=\"fas fa-ellipsis-v\"></i>\n            </a>\n            <div className=\"dropdown-menu dropdown-menu-right dropdown-menu-arrow\">\n              <a className=\"dropdown-item\" href=\"#\">\n                Detail view\n              </a>\n              <a\n                className=\"dropdown-item\"\n                data-toggle=\"sweet-alert\"\n                data-sweet-alert=\"warning\"\n                href=\"#\"\n              >\n                Delete\n              </a>\n            </div>\n          </div>\n        </td>\n      </tr>\n*/\n\nexport default TableBody\n","import { useState, useEffect } from 'react'\nimport TableHead from './TableHead'\nimport TableBody from './TableBody'\n\nconst DataTable = ({ title, data, columns, show, className, controller }) => {\n  const [cols, setCols] = useState()\n  const [rows, setRows] = useState()\n\n  useEffect(() => {\n    setRows(data)\n  }, [data, show])\n\n  useEffect(() => {\n    let cols = columns || []\n    if (!columns) {\n      cols = data && Object.keys(data[0]).map(k => ({ field: k, label: k }))\n    } else if (typeof columns[0] === 'string') {\n      cols = columns.map(c => ({ field: c, label: c }))\n    }\n    setCols(cols)\n  }, [columns])\n\n  if (!data || !cols) return null\n  data = show ? data.slice(0, show) : data\n\n  return (\n    <table className={`${className} table`}>\n      {cols && <TableHead data={data} columns={cols} />}\n      {cols && rows && <TableBody data={rows} columns={cols} controller={controller} />}\n    </table>\n  )\n}\n\nexport default DataTable\n"],"names":["TableHead","columns","map","col","idx","label","sortKey","TableCell","value","row","data","format","column","className","toString","RowControls","onClick","TableRow","controller","onControlsClick","ev","field","path","split","length","shift","TableBody","key","id","_id","JSON","stringify","DataTable","show","useState","cols","setCols","rows","setRows","useEffect","Object","keys","k","c","slice"],"mappings":"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"}